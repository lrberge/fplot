<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Boxplots with possibly moderators — plot_box • fplot</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Boxplots with possibly moderators — plot_box"><meta property="og:description" content="This function allows to draw a boxplot, with possibly separating different moderators."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Exporting_graphs.html">Exporting graphs</a>
    </li>
    <li>
      <a href="../articles/fplot_walkthrough.html">fplot walkthrough</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Boxplots with possibly moderators</h1>
    
    <div class="hidden name"><code>plot_box.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function allows to draw a boxplot, with possibly separating different moderators.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_box</span><span class="op">(</span></span>
<span>  <span class="va">fml</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">case</span>,</span>
<span>  <span class="va">moderator</span>,</span>
<span>  <span class="va">inCol</span>,</span>
<span>  outCol <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  density <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  lty <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  pch <span class="op">=</span> <span class="fl">18</span>,</span>
<span>  addLegend <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  legend_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  lwd <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  <span class="va">outlier</span>,</span>
<span>  dict <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">dict_case</span>,</span>
<span>  <span class="va">dict_moderator</span>,</span>
<span>  <span class="va">order_case</span>,</span>
<span>  <span class="va">order_moderator</span>,</span>
<span>  <span class="va">addMean</span>,</span>
<span>  mean.col <span class="op">=</span> <span class="st">"darkred"</span>,</span>
<span>  mean.pch <span class="op">=</span> <span class="fl">18</span>,</span>
<span>  mean.cex <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  mod.title <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">labels.tilted</span>,</span>
<span>  trunc <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  trunc.method <span class="op">=</span> <span class="st">"auto"</span>,</span>
<span>  <span class="va">line.max</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>fml</dt>
<dd><p>A numeric vector or a formula of the type: <code>vars ~ moderator_1 | moderator_2</code>. Note that if a formula is provided then the argument ‘data’ must be provided. You can plot several variables, if you don't want a moderator, use 1 instead: e.g. <code>plot_box(Petal.Width +Petal.Length ~ 1, iris)</code>. You can plot all numeric variables from a data set using <code>"."</code>: <code>plot_box(. ~ 1, iris)</code>.</p></dd>


<dt>data</dt>
<dd><p>A data.frame/data.table containing the relevant information.</p></dd>


<dt>case</dt>
<dd><p>When argument fml is a vector, this argument can receive a vector of cases.</p></dd>


<dt>moderator</dt>
<dd><p>When argument fml is a vector, this argument can receive a vector of moderators.</p></dd>


<dt>inCol</dt>
<dd><p>A vector of colors that will be used for within the boxes.</p></dd>


<dt>outCol</dt>
<dd><p>The color of the outer box. Default is black.</p></dd>


<dt>density</dt>
<dd><p>The density of lines within the boxes. By default it is equal to -1, which means the boxes are filled with color.</p></dd>


<dt>lty</dt>
<dd><p>The type of lines for the border of the boxes. Default is 1 (solid line).</p></dd>


<dt>pch</dt>
<dd><p>The patch of the outliers. Default is 18.</p></dd>


<dt>addLegend</dt>
<dd><p>Default is <code>TRUE</code>. Should a legend be added at the top of the graph is there is more than one moderator?</p></dd>


<dt>legend_options</dt>
<dd><p>A list. Other options to be passed to <code>legend</code> which concerns the legend for the moderator.</p></dd>


<dt>lwd</dt>
<dd><p>The width of the lines making the boxes. Default is 2.</p></dd>


<dt>outlier</dt>
<dd><p>Default is <code>TRUE</code>. Should the outliers be displayed?</p></dd>


<dt>dict</dt>
<dd><p>A dictionnary to rename the variables names in the axes and legend. Should be a named vector. By default it s the value of <code><a href="setFplot_dict.html">getFplot_dict()</a></code>, which you can set with the function <code><a href="setFplot_dict.html">setFplot_dict</a></code>.</p></dd>


<dt>dict_case</dt>
<dd><p>A named character vector. If provided, it changes the values of the variable ‘case’ to the ones contained in the vector <code>dict_case</code>. Example: I want to change my variable named "a" to "Australia" and "b" to "Brazil", then I used <code>dict=c(a="Australia",b="Brazil")</code>.</p></dd>


<dt>dict_moderator</dt>
<dd><p>A named character vector. If provided, it changes the values of the variable ‘moderator’ to the ones contained in the vector <code>dict_moderator</code>. Example: I want to change my variable named "a" to "Australia" and "b" to "Brazil", then I used <code>dict=c(a="Australia",b="Brazil")</code>.</p></dd>


<dt>order_case</dt>
<dd><p>Character vector. This element is used if the user wants the ‘case’ values to be ordered in a certain way. This should be a regular expression (see <code><a href="https://rdrr.io/r/base/regex.html" class="external-link">regex</a></code> help for more info). There can be more than one regular expression. The variables satisfying the first regular expression will be placed first, then the order follows the sequence of regular expressions.</p></dd>


<dt>order_moderator</dt>
<dd><p>Character vector. This element is used if the user wants the ‘moderator’ values to be ordered in a certain way. This should be a regular expression (see <code><a href="https://rdrr.io/r/base/regex.html" class="external-link">regex</a></code> help for more info). There can be more than one regular expression. The variables satisfying the first regular expression will be placed first, then the order follows the sequence of regular expressions.</p></dd>


<dt>addMean</dt>
<dd><p>Whether to add the average for each boxplot. Default is true.</p></dd>


<dt>mean.col</dt>
<dd><p>The color of the mean. Default is darkred.</p></dd>


<dt>mean.pch</dt>
<dd><p>The patch of the mean, default is 18.</p></dd>


<dt>mean.cex</dt>
<dd><p>The cex of the mean, default is 2.</p></dd>


<dt>mod.title</dt>
<dd><p>Character scalar. The title of the legend in case there is a moderator. You can set it to <code>TRUE</code> (the default) to display the moderator name. To display no title, set it to <code>NULL</code> or <code>FALSE</code>.</p></dd>


<dt>labels.tilted</dt>
<dd><p>Whether there should be tilted labels. Default is <code>FALSE</code> except when the data is split by moderators (see <code>mod.method</code>).</p></dd>


<dt>trunc</dt>
<dd><p>If the main variable is a character, its values are truncaded to <code>trunc</code> characters. Default is 20. You can set the truncation method with the argument <code>trunc.method</code>.</p></dd>


<dt>trunc.method</dt>
<dd><p>If the elements of the x-axis need to be truncated, this is the truncation method. It can be "auto", "right" or "mid".</p></dd>


<dt>line.max</dt>
<dd><p>Option for the x-axis, how far should the labels go. Default is 1 for normal labels, 2 for tilted labels.</p></dd>


<dt>...</dt>
<dd><p>Other parameters to be passed to <code>plot</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Invisibly returns the coordinates of the x-axis.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Laurent Berge</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simple iris boxplot</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_box-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># All numeric variables</span></span></span>
<span class="r-in"><span><span class="fu">plot_box</span><span class="op">(</span><span class="va">.</span> <span class="op">~</span> <span class="fl">1</span>, <span class="va">iris</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_box-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># All numeric variable / splitting by species</span></span></span>
<span class="r-in"><span><span class="fu">plot_box</span><span class="op">(</span><span class="va">.</span> <span class="op">~</span> <span class="va">Species</span>, <span class="va">iris</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_box-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># idem but with renaming</span></span></span>
<span class="r-in"><span><span class="fu">plot_box</span><span class="op">(</span><span class="va">.</span> <span class="op">~</span> <span class="va">Species</span>, <span class="va">iris</span>, dict <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>Species<span class="op">=</span><span class="st">"Iris species"</span>,</span></span>
<span class="r-in"><span>         setosa<span class="op">=</span><span class="st">"SETOSA"</span>, Petal.Width<span class="op">=</span><span class="st">"Width (Petal)"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_box-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now using two moderators</span></span></span>
<span class="r-in"><span><span class="va">base</span> <span class="op">=</span> <span class="va">iris</span></span></span>
<span class="r-in"><span><span class="va">base</span><span class="op">$</span><span class="va">period</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">150</span>, <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">plot_box</span><span class="op">(</span><span class="va">Petal.Length</span> <span class="op">~</span> <span class="va">period</span> <span class="op">|</span> <span class="va">Species</span>, <span class="va">base</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_box-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

