<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>PDF export with guaranteed text size — pdf_fit • fplot</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="PDF export with guaranteed text size — pdf_fit"><meta property="og:description" content="This function is an alternative to pdf, it makes it easy
to export figures of appropriate size that should end up in a document. Instead
of providing the height and width of the figure, you provide the fraction of the
text-width the figure should take, and the target font-size at which the plotting
text should be rendered. The size of the plotting text, once the figure is
in the final document, is guaranteed."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Exporting_graphs.html">Exporting graphs</a>
    </li>
    <li>
      <a href="../articles/fplot_walkthrough.html">fplot walkthrough</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>PDF export with guaranteed text size</h1>
    
    <div class="hidden name"><code>pdf_fit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is an alternative to <code><a href="https://rdrr.io/r/grDevices/pdf.html" class="external-link">pdf</a></code>, it makes it easy
to export figures of appropriate size that should end up in a document. Instead
of providing the height and width of the figure, you provide the fraction of the
text-width the figure should take, and the target font-size at which the plotting
text should be rendered. The size of the plotting text, once the figure is
in the final document, is guaranteed.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pdf_fit</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  pt <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">height</span>,</span>
<span>  w2h <span class="op">=</span> <span class="fl">1.75</span>,</span>
<span>  <span class="va">h2w</span>,</span>
<span>  sideways <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>file</dt>
<dd><p>The name of the file to which export the figure.</p></dd>


<dt>pt</dt>
<dd><p>The size of the text, in pt, once the figure is inserted in your final document.
The default is 10. This means that all text appearing in the plot with <code>cex = 1</code>
will appear with 10pt-sized fonts in your document.</p></dd>


<dt>width</dt>
<dd><p>The width of the graph, expressed in percentage of the width of
the body-text of the document in which it will be inserted. Default is 1, which means
that the graph will take 100% of the text width. It can also be equal to a character
of the type <code>"100%"</code> or <code>"80%"</code>. Alternatively, the following units
are valid. Relative sizes: <code>"pw"</code> (page width), <code>"tw"</code> (text width),
<code>"ph"</code> (page height), <code>"th"</code> (text height).
Absolute sizes: <code>"in"</code>, <code>"cm"</code>, and <code>"px"</code>.</p></dd>


<dt>height</dt>
<dd><p>Numeric between 0 and 1 or character scalar. The height of the graph,
expressed in percentage of the height of the body-text of the document in which it
will be inserted. Default is missing, and the height is determined by the other
argument <code>w2h</code>. This argument should range between 0 and 1. It can also be
equal to a character of the type <code>"100%"</code> or <code>"80%"</code>. Alternatively, the
following units are valid. Relative sizes: <code>"pw"</code> (page width), <code>"tw"</code>
(text width), <code>"ph"</code> (page height), <code>"th"</code> (text height). Absolute
sizes: <code>"in"</code>, <code>"cm"</code>, and <code>"px"</code>.</p></dd>


<dt>w2h</dt>
<dd><p>Numeric scalar. Used to determine the height of the figure based on
the width. By default it is equal to <code>1.75</code> which means that the graph
will be 1.75 larger than tall. Note that when argument <code>sideways = TRUE</code>,
the default for the height becomes <code>90%</code>.</p></dd>


<dt>h2w</dt>
<dd><p>Numeric scalar, default is missing. Used to determine the aspectr ratio of the figure.</p></dd>


<dt>sideways</dt>
<dd><p>Logical, defaults to <code>FALSE</code>. If the figure will be placed in
landscape in the final document, then <code>sideways</code> should be equal to <code>TRUE</code>.
If TRUE, then the argument <code>width</code> now refers to the height of the text, and the
argument <code>height</code> to its width.</p></dd>


<dt>...</dt>
<dd><p>Other arguments to be passed to <code><a href="https://rdrr.io/r/grDevices/pdf.html" class="external-link">pdf</a></code>.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>If you use <code><a href="fit.off.html">fit.off</a></code> instead of <code>dev.off</code> to close the graph,
the resulting graph will be displayed in the viewer pane. So you don't have to open
the document to see how it looks.</p>
<p>To export a ggplot2 graph, remember that you need to <strong>print</strong> it!</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>data <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>), <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">10</span>))</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="co"># NOT GOOD</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">pdf_fit</span>(<span class="st">"test.pdf"</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#54BF98"</span>) <span class="sc">+</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#d34661"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="fu">fit.off</span>()</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="co"># GOOD</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>my_graph <span class="ot">=</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(x, y)) <span class="sc">+</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>             <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"#54BF98"</span>) <span class="sc">+</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>             <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"#d34661"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="fu">pdf_fit</span>(<span class="st">"test.pdf"</span>)</span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="fu">print</span>(my_graph)</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="fu">fit.off</span>()</span></code></pre><p></p></div>
    </div>
    <div id="setting-the-page-size">
    <h2>Setting the page size</h2>
    


<p>You can set the page size with the function <code><a href="setFplot_page.html">setFplot_page</a></code>,
which defines the size of the page and its margins to deduce the size of the body
of the text in which the figures will be inserted. By default the page is considered
to be US-letter with <em>normal</em> margins (not too big nor thin).</p>
<p>It is important to set the page size appropriately to have a final plotting-text size
guaranteed once the figure is inserted in the document.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>To set the geometry and the defaults: <code><a href="setFplot_page.html">setFplot_page</a></code>.
To close the graph and display it on the viewer pane: <code><a href="fit.off.html">fit.off</a></code>.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Laurent Berge</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This function creates figures made to be inserted</span></span></span>
<span class="r-in"><span><span class="co"># in a Latex document (US-letter with "normal" margins)</span></span></span>
<span class="r-in"><span><span class="co"># By default, the figures should take 100% of the</span></span></span>
<span class="r-in"><span><span class="co"># text width. If so, the size of the text in the figures</span></span></span>
<span class="r-in"><span><span class="co"># will be exact.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You need pdftools and knitr to display PDFs in the viewer pane with fit.off</span></span></span>
<span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/pdftools/" class="external-link">pdftools</a></span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">tmpFile</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"pdf_examples.pdf"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">pdf_fit</span><span class="op">(</span><span class="va">tmpFile</span>, pt <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"n"</span>, ann <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="st">"This text will be displayed in 8pt."</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="fit.off.html">fit.off</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">pdf_fit</span><span class="op">(</span><span class="va">tmpFile</span>, pt <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"n"</span>, ann <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="st">"This text will be displayed in 12pt."</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="fit.off.html">fit.off</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu">pdf_fit</span><span class="op">(</span><span class="va">tmpFile</span>, pt <span class="op">=</span> <span class="fl">12</span>, sideways <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"n"</span>, ann <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="st">"This text will be displayed in 12pt if in sideways."</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="fit.off.html">fit.off</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># If we reduce the end plot width but keep font size constant</span></span></span>
<span class="r-in"><span>  <span class="co"># this will lead to a very big font as compared to the plot</span></span></span>
<span class="r-in"><span>  <span class="fu">pdf_fit</span><span class="op">(</span><span class="va">tmpFile</span>, pt <span class="op">=</span> <span class="fl">8</span>, width <span class="op">=</span> <span class="st">"50%"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"n"</span>, ann <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="st">"This text will be displayed in 8pt\nif in 50% of the text width."</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="fit.off.html">fit.off</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: pdftools</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>package 'pdftools' was built under R version 4.2.3</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using poppler version 22.04.0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: knitr</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>'length(width)' and 'length(height)' differ between new and previous</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> 	 ==&gt; NOT changing 'width' &amp; 'height'</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

